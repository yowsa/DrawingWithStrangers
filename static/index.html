<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script type="text/javascript" src="index.js"></script>


<body>
    <canvas id="mycanvas" width="400" height="400" style="border: 1px solid #000fff;"></canvas><p></p>
    <button onclick="input.lineColor('black')">Black Line</button>
    <button onclick="input.lineColor('red')">Red Line</button>
    <button onclick="input.lineColor('green')">Green Line</button><p></p>
    <button onclick="input.increaseStroke()">Increase stroke width</button>
    <p id="strokeSize"></p>
    <button onclick="input.decreaseStroke()">Decrease stroke width</button>
    <p id="screen-log"></p>

    <script>


      let screenLog = document.querySelector('#screen-log');
      document.addEventListener('mousemove', logKey);
      function logKey(e){
        screenLog.innerText = `
        Client X/Y: ${e.clientX}, ${e.clientY}`; 
    }


    var pos = {x: 0, y:0};

    function setCursorPosition(e) {
        pos.x = e.clientX;
        pos.y = e.clientY;
    }


    

    function showStrokeSize() {
        document.getElementById("strokeSize").innerText = input.line.lineWidth

    }

    var strokeWidth = document.getElementById("strokeSize")


//{widh:5, color:blue, position;[5,6,7,7,5,4,4{3;4},{5:7}]}


// class som ritar
class CanvasInput {

    constructor(canvasID){
        this.canvasID = canvasID
        this.canvas = document.getElementById(this.canvasID);
        this.line = this.canvas.getContext("2d");
        this.line.lineWidth = 5;
        this.line.strokeStyle = "#ff0000"
    }




    lineColor(color) {
        this.color = color;
        this.line.strokeStyle = this.color;
    }

    increaseStroke() {
        if (this.line.lineWidth < 20){
            this.line.lineWidth += 1
        } 
        showStrokeSize();
    }

    decreaseStroke() {
        if (this.line.lineWidth > 1){
            this.line.lineWidth -= 1
        }
        showStrokeSize();
    }


    setBeginLinePosition() {
        this.line.beginPath();
        this.line.moveTo(pos.x, pos.y);

    }

    drawLine(){
        this.line.lineTo(pos.x, pos.y);
        this.line.stroke();
    }

    startDrawing(){
        this.myvar = setInterval(this.drawLine.bind(this), 100);
    }

    finishDrawing(){
        clearInterval(this.myvar);
    }


}

input = new CanvasInput("mycanvas");
showStrokeSize();


document.addEventListener("mousemove", setCursorPosition);
document.addEventListener("mousedown", input.setBeginLinePosition.bind(input));
document.addEventListener("mousedown", input.startDrawing.bind(input));
document.addEventListener("mouseup", input.finishDrawing.bind(input));



class ServerTalker {

}


// class som skickar och tar emot info fr√•n backend




</script>

</body>